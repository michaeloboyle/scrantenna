<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrantenna Shorts</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- External Dependencies -->
    <script src="https://unpkg.com/vis-network@latest/standalone/umd/vis-network.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/shorts.css">
    <link rel="stylesheet" href="css/historical-layouts.css">
</head>
<body>
    <!-- Main Container -->
    <div class="shorts-container" id="shortsContainer">
        <!-- Shorts will be dynamically loaded here -->
    </div>
    
    <!-- Dieter Rams Timeline -->
    <div class="timeline-container">
        <div class="timeline-track">
            <div class="timeline-progress" id="timeline-progress"></div>
        </div>
        <div class="timeline-date" id="timeline-date"></div>
    </div>

    <!-- Navigation Controls -->
    <div class="navigation">
        <button class="nav-btn" onclick="previousShort()" aria-label="Previous short">↑</button>
        <button class="nav-btn" onclick="nextShort()" aria-label="Next short">↓</button>
    </div>

    <!-- Mode Controls -->
    <div class="mode-controls">
        <button class="mode-btn active" onclick="setMode('read')" id="readBtn" aria-label="Read mode">
            <span class="mode-icon">📖</span>
            <span class="mode-label">Read</span>
        </button>
        <button class="mode-btn" onclick="setMode('brief')" id="briefBtn" aria-label="Brief mode">
            <span class="mode-icon">📝</span>
            <span class="mode-label">Brief</span>
        </button>
        <button class="mode-btn" onclick="setMode('explore')" id="exploreBtn" aria-label="Explore mode">
            <span class="mode-icon">🕸️</span>
            <span class="mode-label">Explore</span>
        </button>
    </div>

    <!-- Era Selector -->
    <div class="era-selector">
        <h3>Era</h3>
        <button class="era-btn active" onclick="setEra('modern')" id="modernBtn">2025</button>
        <button class="era-btn" onclick="setEra('1980s')" id="era1980sBtn">1980s</button>
        <button class="era-btn" onclick="setEra('1960s')" id="era1960sBtn">1960s</button>
        <button class="era-btn" onclick="setEra('1940s')" id="era1940sBtn">1940s</button>
        <button class="era-btn" onclick="setEra('1920s')" id="era1920sBtn">1920s</button>
        <button class="era-btn" onclick="setEra('1900s')" id="era1900sBtn">1900s</button>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        color: white;
        font-family: Arial, sans-serif;
    ">
        <div style="text-align: center;">
            <h1 style="font-size: 3rem; margin-bottom: 1rem; font-weight: 900;">📡</h1>
            <h2 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Scrantenna</h2>
            <p style="opacity: 0.8;">Loading news shorts...</p>
        </div>
    </div>

    <!-- Application Scripts -->
    <script type="module" src="js/main.js"></script>
    
    <!-- Hide loading screen once modules are loaded -->
    <script>
        // Hide loading screen after a short delay to ensure smooth transition
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                if (loadingScreen) {
                    loadingScreen.style.opacity = '0';
                    loadingScreen.style.transition = 'opacity 0.5s ease';
                    setTimeout(() => {
                        loadingScreen.remove();
                    }, 500);
                }
            }, 500);
        });
    </script>
</body>
</html>